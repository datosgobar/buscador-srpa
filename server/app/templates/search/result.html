{% if best_words %}
    <script>
        $(function () {
            window.jgm = window.jgm || {};
            window.jgm.best_words = window.jgm.best_words || {};
            window.jgm.best_words[{{ result.id }}] = {{ best_words|tojson|safe }}
            window.jgm.results.highlight({{ result.id }}, window.jgm.best_words[{{ result.id }}]);
        });
    </script>
{% endif %}

<div class="col-xs-12 result" data-question-id="{{ result.id }}">
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="question-actions">
                {% if not hide_actions %}
                    <span class="edit">
                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                        editar
                    </span>
                    <span class="delete">
                        <i class="fa fa-trash-o" aria-hidden="true"></i>
                        eliminar
                    </span>
                {% endif %}
            </div>
            <p class="text-muted">
                Informe
                <span class="resport-name">
                    {% if result.report %}
                        {{ result.report.name }}
                    {% else %}
                        sin nombre
                    {% endif %}
                </span>
                <span class="number">
                    Pregunta
                    {% if result.number %}
                        <i class="fa fa-hashtag" aria-hidden="true"></i>
                        {{ result.number }}
                    {% else %}
                        sin numero
                    {% endif %}
                </span>
            </p>
            <p class="text-muted">
                {% if result.context|length > 0 %}
                    Contexto:
                    {{ result.context }}
                {% else %}
                    Sin contexto
                {% endif %}
            </p>
            <blockquote>
                <p class="question-body">
                    {% if result.body and result.body|length > 0 %}
                        “ {{ result.body }} ”
                    {% else %}
                        Pregunta sin texto
                    {% endif %}
                </p>
                <small>
                    {{ result.author.name if result.author and result.author.name and result.author.name|length > 0 else 'Sin autor' }}
                </small>
            </blockquote>
            <p class="text-muted">
                {% if result.justification|length > 0 %}
                    Justificación:
                    {{ result.justification }}
                {% else %}
                    Sin justificación
                {% endif %}
            </p>
            <div class="tags">
                {% if result.topic and result.topic.name and result.topic.name|length > 0 %}
                    <button type="button" class="btn btn-topic btn-sm">
                        <i class="fa fa-tag"></i>
                        {{ result.topic.name }}
                    </button>
                {% else %}
                    <button type="button" class="btn btn-default btn-sm without-topic">
                        <i class="fa fa-tag"></i>
                        Sin tema
                    </button>
                {% endif %}
                {% if result.subtopic and result.subtopic.name and result.subtopic.name|length > 0 %}
                    <button type="button" class="btn btn-subtopic btn-sm">
                        <i class="fa fa-tags"></i>
                        {{ result.subtopic.name }}
                    </button>
                {% else %}
                    <button type="button" class="btn btn-default btn-sm without-subtopic">
                        <i class="fa fa-tags"></i>
                        Sin subtema
                    </button>
                {% endif %}
            </div>
            <p>
                {% if result.answerer and result.answerer.name|length > 0 %}
                    Responde:
                    <span class="text-muted">
                        {{ result.answerer.name }}
                    </span>
                {% else %}
                    <span class="text-muted">
                        Sin asignado a responder
                    </span>
                {% endif %}
            </p>
            {% if not hide_more_info_link %}
                <div class="more-info">
                    <a href="{{ url_for('see_question', question_id=result.id) }}">
                        Ver mas información sobre esta pregunta
                    </a>
                </div>
            {% endif %}
        </div>
        <div class="panel panel-body delete-confirmation">
            <div class="center-vertical-table">
                <div class="center-vertical-cell">
                    <p class="confirmation-text">¿Está seguro de querer borrar esta pregunta?</p>
                    <button type="button" class="btn btn-default btn-sm cancel-delete">Cancelar</button>
                    <button type="button" class="btn btn-danger btn-sm confirm-delete">Borrar</button>
                </div>
            </div>
        </div>
    </div>
</div>
